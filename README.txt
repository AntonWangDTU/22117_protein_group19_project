###This file consists of the main tools/commands employed during the project.

##Alphamissence
/home/ctools/alphamissense/alphamissense P54132
#the output tsv file is in the alphamissense directory, after filtering for the region 600-1299-> 13300 variants


##PDBminer
#Data is generated by the following command(s):

home/ctools/PDBminer/PDBminer -u P54132 -n 4 -f csv


##NACCESS
/home/ctools/naccess-2.1.1/naccess DNA_helicase_binding_domain.pdb
#We care about the rsa file
#this is the documenation for the tool:http://www.bioinf.manchester.ac.uk/naccess/


##MutateX (stability)##

##MutateX
#Data is generated by the following command(s):
nohup mutatex mutateX_stability/4O3M_noHOH_noION_noADP.pdb -p 4 -m mutation_list.txt -x /home/ctools/foldx5_2024/foldx -f suite5 -R mutateX_stability/repair_runfile_template.txt -M mutate_runfile_template.txt -q mutateX_stability/positions_bloom.txt -L -l -v -C none &


#The results can be transfered to csv format for download
/home/ctools/anaconda3_2021.11/bin/ddg2excel -p 4O3M_noHOH_noION_noADP.pdb -l mutation_list.txt -q positions_bloom.txt -d results/mutation_ddgs/final_averages/ -F csv
#Output is mutateX_stability/energies.csv


##MutateX (local interaction)
#all the necessary files for the analysis are located in the mutatex_binding directory
#Data is generated by the following command(s):

#foldX
nohup mutatex /home/projects/22117_proteins/projects/group19/mutateX_binding/4O3M_DNA.pdb -p 2 -m /home/projects/22117_proteins/projects/group19/mutateX_binding/mutation_list.txt -x /home/ctools/foldx5_2024/foldx -f suite5 -R /home/projects/22117_proteins/projects/group19/mutateX_binding/repair_runfile_template.txt -M /home/projects/22117_proteins/projects/group19/mutateX_binding/mutate_runfile_template.txt -q /home/projects/22117_proteins/projects/group19/mutateX_binding/poslist.txt -L -l -v -C  none -B  -I /home/projects/22117_proteins/projects/group19/mutateX_binding/interface_runfile_template.txt &

#DDG2excel
/home/ctools/anaconda3_2021.11/bin/ddg2excel -p /home/projects/22117_proteins/projects/group19/mutateX_binding/4O3M_DNA.pdb -l /home/projects/22117_proteins/projects/group19/mutateX_binding/mutation_list.txt -q /home/projects/22117_proteins/projects/group19/mutateX_binding/poslist.txt -d results/interface_ddgs/final_averages/A-B/ -F csv
#the output is energies.csv

/home/ctools/anaconda3_2021.11/bin/ddg2heatmap -p home/projects/22117_proteins/projects/group19/mutateX_binding/4O3M_DNA.pdb -l home/projects/22117_proteins/projects/group19/mutateX_binding/mutation_list.txt -q home/projects/22117_proteins/projects/group19/mutateX_binding/poslist.txt -d results/interface_ddgs/final_averages/A-B/
#the output is *_heatmap.pdf

#ensemble generation without restrains:
nohup CABSflex -i 4O3M.pdb -k 10 -y 30 -a 10 -v 3 -z 10 -A

#ensemble generation with restrains:
nohup CABSflex -i 4O3M.pdb -k 10 -y 30 -a 10 -v 3 -z 10 -A --sc-rest-add 1036:A 1066:A 4.3 1.0 --sc-rest-add 1063:A 1066:A 4.5 1.0 --sc-rest-add 1066:A 1055:A 4.5 1.0 --sc-rest-add 1063:A 1055:A 4.4 1.0 --sc-rest-add 1063:A 1036:A 4.4 1.0 --sc-rest-add 1055:A 1036:A 4.3 1.0 --sc-rest-add 982:A 1242:A 15.8 1.0 --sc-rest-add 1242:A 669:A 8.3 1.0 --sc-rest-add 1242:A 672:A 11.2 1.0 --sc-rest-add 1242:A 696:A 10.7 1.0 --sc-rest-add 1242:A 668:A 14.8 1.0 --sc-rest-add 982:A 669:A 14.6 1.0 --sc-rest-add 982:A 672:A 16.4 1.0  --sc-rest-add 982:A 696:A 12.2 1.0 --sc-rest-add 982:A 668:A 22.3 1.0 >& log1 &
#for self_scan:
nohup mutatex ../repair_cabsflex/output_pdbs/model_*.pdb -p 4 -x /home/ctools/foldx5_2024/foldx -m ../mutation_list.txt -f suite5 -R ../repair_runfile_template.txt -M ../mutate_runfile_template.txt -c -L -l -v -s >& nohup.out &
#merge the models
pdb_merge model_*>merge_models_2.pdb
#command for the mutateX stability for the ensemble:
nohup mutatex ../cabsflex/repair_cabsflex/merge_models_2.pdb -p 4 -m ../cabsflex/mutation_list.txt -x /home/ctools/foldx5_2024/foldx -f suite5 -R ../cabsflex/repair_runfile_template.txt -M ../cabsflex/mutate_runfile_template.txt -q ../mutateX_stability/filtered_positions_bloom.txt -L -l -v -C none &